{% extends "admin/base_site.html" %}
{% block title %}
    {{ title }} | {{ site_title|default:_('Django site admin') }}
{% endblock %}
{% block extrahead %}
<script type="text/javascript" src="/admin/jsi18n/"></script>
<script type="text/javascript" src="/static/admin/js/core.js"></script>
<script type="text/javascript" src="/static/admin/js/vendor/jquery/jquery.js"></script>
{% endblock %}
{% block branding %}
    <h1 id="site-name"><a href="{% url 'admin:index' %}">Daft Distances Administration</a></h1>
{% endblock %}
{% block nav-global %}{% endblock %}
{% block content %}
<form id="grab-data" action="/admin/distances/grabdata" method="post">
    {% csrf_token %}
    {{ form }}
    <input type="submit" value="Submit" />
</form>
<div id="overlay" style="display:none;">
    <div id="wait-message">Please wait while the page is loading.</div>
</div>
<script>
    $("#grab-data").submit(function( event ) {
      event.preventDefault();
      $('#overlay').show();
      $("body").css("cursor", "progress");
      $(this).unbind('submit').submit()
    });
</script>
<style>
    #overlay {
        background-color: rgba(255, 255, 255, 0.8);
        z-index: 999;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        display: none;
    }
    #wait-message {
        position: absolute;
        left: 30%;
        top: 70%;
        font-size:35px;
    }

</style>
{% endblock %}